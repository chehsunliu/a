impl Solution {
    pub fn kth_grammar(n: i32, k: i32) -> i32 {
        f(n - 1, k - 1)
    }
}

fn f(n: i32, k: i32) -> i32 {
    if n == 0 {
        return 0;
    }

    if k < 1 << (n - 1) {
        f(n - 1, k)
    } else {
        1 - f(n, k - (1 << (n - 1)))
    }
}

// 2^0  0
// 2^1  01
// 2^2  0110
// 2^3  0110 1001
// 2^4  0110 1001 1001 0110
// 2^5  0110 1001 1001 0110 1001 0110 0110 1001
//   .  ...
// 2^30 ...

// g(n=4, k=0~7)  = g(n=3, k=0~7)
// g(n=4, k=8~15) = 1 - g(n=4, k=0~7)

struct Solution;
